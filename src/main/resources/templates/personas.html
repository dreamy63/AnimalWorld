<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> 
<html class="no-js" lang=""
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="layout/layoutP :: head">
<body>
    <!-- Menu left side -->
    <aside th:replace="layout/layoutP :: aside-left"></aside>
    <!-- Right Panel -->
    <div id="right-panel" class="right-panel">
        <!-- Header-->
        <header th:replace="layout/layoutP :: header"></header>
        <!-- Content -->
        <div class="content">
            <div class="animated fadeIn">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                        	<div class="card-header">
                                <strong class="card-title" th:text="${titulo}"></strong>
                            </div>                           
                            <div class="card-body">
                            	<h4 class="card-title">
                            		<a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/persona}" class="btn btn-success btn-xs" style="font-size: 14px;"><i class="fa fa-plus"></i>&nbsp;&nbsp;Agregar persona</a>
                            		<a sec:authorize="hasRole('ROLE_USER')" th:href="@{/persona}" class="btn btn-success btn-xs" style="font-size: 14px;"><i class="fa fa-plus"></i>&nbsp;&nbsp;Agregar cliente</a>
                            	</h4>
                                <table id="bootstrap-data-table" class="table table-striped table-bordered" style="font-size: 13px;">
                                    <thead class="thead-inverse">
                                        <tr style="text-align: center;">
                                        	<th style="vertical-align: middle;">Id</th>
                                            <th style="vertical-align: middle;">Nombre</th>
                                            <th style="vertical-align: middle;">Apellido</th>
                                            <th style="vertical-align: middle;">DNI</th>
                                            <th style="vertical-align: middle;">Fecha de Nacimiento</th>
                                            <th style="vertical-align: middle;">Telefono</th>
                                            <th style="vertical-align: middle;">Celular</th>
                                            <th style="vertical-align: middle;">Email</th>
                                            <th style="vertical-align: middle;">Direcci&#243;n</th>
                                            <th style="vertical-align: middle;" sec:authorize="hasRole('ROLE_ADMIN')">Tipo</th>
                                            <th style="vertical-align: middle;">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="persona: ${personas}">
<!--                                             <td sec:authorize="hasRole('ROLE_USER')"> -->
<!--                                             	<a class="btn btn-primary btn-xs" th:href="@{/ver/} + ${cliente.id}"  -->
<!--                                             		th:text="${cliente.id}"> -->
<!--                                             	</a> -->
<!--                                             </td> -->
											<td th:text="${persona.idPersona}"></td>
                                            <td th:text="${persona.nombre}"></td>
                                            <td th:text="${persona.apellido}"></td>
                                            <td th:text="${persona.dni}"></td>                                            
                                            <td th:text="${persona.strFecha}"></td>
                                            <td th:text="${persona.telefono}"></td>
                                            <td th:text="${persona.celular}"></td>
                                            <td th:text="${persona.email}"></td>
                                            <td th:text="${persona.direccion}"></td>
                                            <td sec:authorize="hasRole('ROLE_ADMIN')" th:text="${persona.descRol}"></td>
<!--                                             <td sec:authorize="hasRole('ROLE_ADMIN')"> -->
<!--                                             	<a class="btn btn-primary btn-xs"  -->
<!--                                             		th:href="@{/form/} + ${usuario.id}"  -->
<!--                                             		th:text="'editar'"> -->
<!--                                             	</a> -->
<!--                                             </td> -->
<!--                                             <td sec:authorize="hasRole('ROLE_ADMIN')"> -->
<!--                                             	<a class="btn btn-danger btn-xs" -->
<!--                                             		th:href="@{/eliminar/} + ${usuario.id}" -->
<!--                                             		th:text="'eliminar'" -->
<!--                                             		onclick="return confirm('Estas seguro que quieres eliminar?');"> -->
<!--                                             	</a> -->
<!--                                             </td> -->
                                            <td>
                                            	<div class="btn-group">
                                            		<a class="btn btn-info" title="Editar"
                                            			th:href="@{/registrarPersona/} + ${persona.idPersona}">
                                            			<i class="fa fa-pencil"></i>
                                            		</a>                                          		
                                            		<a class="btn btn-danger" href="#" title="Eliminar"
                                            			th:href="@{/eliminarPersona/} + ${persona.idPersona}"
                                            			onclick="return confirm('Estas seguro que quieres eliminar?');">
                                            			<i class="fa fa-times"></i>
                                            		</a>
                                            	</div>
                                            </td>
                                        </tr>                                        
                                    </tbody>
                                </table>
                                <nav th:replace="paginator-nav :: paginator"></nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- .animated -->
        </div><!-- .content -->
        <div class="clearfix"></div>
    </div>

    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
    <script src="assets/js/main.js"></script>


<!--     <script src="assets/js/lib/data-table/datatables.min.js"></script> -->
    <script src="assets/js/lib/data-table/dataTables.bootstrap.min.js"></script>
    <script src="assets/js/lib/data-table/dataTables.buttons.min.js"></script>
    <script src="assets/js/lib/data-table/buttons.bootstrap.min.js"></script>
    <script src="assets/js/lib/data-table/jszip.min.js"></script>
    <script src="assets/js/lib/data-table/vfs_fonts.js"></script>
    <script src="assets/js/lib/data-table/buttons.html5.min.js"></script>
    <script src="assets/js/lib/data-table/buttons.print.min.js"></script>
    <script src="assets/js/lib/data-table/buttons.colVis.min.js"></script>
    <script src="assets/js/init/datatables-init.js"></script>


    <script type="text/javascript">
        $(document).ready(function() {
          $('#bootstrap-data-table-export').DataTable();
      } );
  	</script>
</body>
</html>